<template>
  <view class="container">
    <view class="welcome-box">
      <!-- 第一个按钮 -->
      <!-- <button class="button button1" @click="startQuiz"></button> -->
	  <view 
	    class="button button1" 
	    @click="startQuiz"
	  >
	    <text class="button-text">开始体验</text>
	  </view>
	  
	  
      <!-- 登录已有账号文本 -->
      <text class="login-text" @tap="goToLogin">登录已有账号</text>
    </view>
  </view>
</template>

<script>
export default {
  data() {
    return {
      username: ''  // 用于存储从上一页接收的用户名
    };
  },
  methods: {
    startQuiz() {
      // 生成随机用户名
      this.username = 'user_' + Math.floor(Math.random() * 10000);  // 生成随机用户名
      // 跳转到问题页面并传递用户名
      uni.navigateTo({
        url: `/pages/experience/experience?username=${this.username}`
      });
    },
    goToLogin() {
      // 跳转到登录页面
      uni.navigateTo({
        url: '/pages/login/login'
      });
    }
  },
  onLoad(options) {
    // 获取URL传递的参数
    if (options.username) {
      this.username = options.username;  // 将传递过来的用户名存储起来
    }
  }
};
</script>

<style scoped>
.container {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100vw; /* 宽度设置为视口宽度 */
  height: 100vh; /* 高度设置为视口高度 */
  overflow: hidden; /* 隐藏超出部分 */
}

.welcome-box {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column; /* 垂直排列子元素 */
  width: 100%; /* 宽度占满容器 */
  height: 100%; /* 高度占满容器 */
  background-image: url('/static/landing.png'); /* 设置背景图片 */
  background-size: cover; /* 让背景图片覆盖整个容器 */
  background-position: center; /* 让背景图片居中 */
  background-repeat: no-repeat; /* 防止背景图片重复 */
  position: relative; /* 使子元素可以使用绝对定位 */
}

.button {
  width: 300px; /* 按钮宽度 */
  height: 50px; /* 按钮高度 */
  border: none;
  background-size: contain; /* 使用contain来调整背景图像尺寸 */
  background-position: center; /* 背景图像居中 */
  background-repeat: no-repeat; /* 防止背景图像重复 */
  cursor: pointer; /* 鼠标悬停时显示手型光标 */
  position: absolute; /* 绝对定位 */
  left: 50%; /* 水平居中 */
  transform: translateX(-50%); /* 修正偏移，使按钮完全居中 */
  transition: transform 0.2s; /* 添加动画效果 */
  border-color: #ffffff; /* 激活状态下的边框颜色 */
  background-color: #ffffff; /* 激活状态下的背景颜色 */
}

.button1 {
  width: 300px; /* 按钮的宽度 */
  height: 40px; /* 按钮的高度 */
  background-color: #6871F9; /* 按钮的背景颜色 */
  border-radius: 22.5px; /* 圆角设置 */
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  bottom: 30px;
  left: 50%;
  top: 63%;
  transform: translateX(-50%);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* 按钮阴影 */
  cursor: pointer;
  transition: background-color 0.3s, transform 0.3s;
}

.login-text {
  color: #6871F9; /* 设置文本颜色为蓝色 */
  font-size: 16px; /* 字体大小 */
  margin-top: 16px; /* 设置上方外边距 */
  text-decoration: underline; /* 添加下划线 */
  cursor: pointer; /* 鼠标悬停时显示手型光标 */
  position: absolute; /* 绝对定位 */
  bottom: 170px; /* 文本距离底部150px */
  border-color: #ffffff; /* 激活状态下的边框颜色 */
  background-color: #ffffff; /* 激活状态下的背景颜色 */
}

.button-text {
  color: #fff; /* 按钮文字颜色 */
  font-size: 16px;
  font-weight: bold;
}
</style>

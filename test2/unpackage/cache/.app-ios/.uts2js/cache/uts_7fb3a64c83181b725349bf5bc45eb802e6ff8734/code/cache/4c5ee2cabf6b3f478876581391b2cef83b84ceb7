{"code":"import { defineComponent } from 'vue';\nexport default defineComponent({\n    data() {\n        return {\n            scenarioText: '',\n            userId: '',\n            username: '',\n            gender: '',\n            // 显式指定 `birthday` 的类型\n            birthday: null,\n            // 显式指定 `selectedOptions` 为字符串数组\n            selectedOptions: []\n        };\n    },\n    onLoad(options = null) {\n        uni.__log__('log', 'at pages/preference/preference3.uvue:43', 'Raw options received in preference3:', options);\n        this.userId = options.userId || '';\n        this.username = decodeURIComponent(options.username || '');\n        this.gender = options.gender || '';\n        uni.__log__('log', 'at pages/preference/preference3.uvue:49', 'Parsed basic data in preference3:', {\n            userId: this.userId,\n            username: this.username,\n            gender: this.gender\n        });\n        // 解析 birthday\n        try {\n            this.birthday = options.birthday ? UTS.JSON.parse(decodeURIComponent(options.birthday)) : null;\n            uni.__log__('log', 'at pages/preference/preference3.uvue:58', 'Parsed birthday in preference3:', this.birthday);\n        }\n        catch (e) {\n            uni.__log__('error', 'at pages/preference/preference3.uvue:60', 'Error parsing birthday in preference3:', e);\n            uni.__log__('log', 'at pages/preference/preference3.uvue:61', 'Raw birthday data in preference3:', options.birthday);\n            this.birthday = null;\n        }\n        // 解析 selectedOptions\n        try {\n            const parsedOptions = options.options ? UTS.JSON.parse(decodeURIComponent(options.options)) : [];\n            uni.__log__('log', 'at pages/preference/preference3.uvue:68', 'Parsed options:', parsedOptions);\n            // 使用显式类型赋值，避免类型错误\n            this.selectedOptions = Array.isArray(parsedOptions) ? parsedOptions : [];\n            uni.__log__('log', 'at pages/preference/preference3.uvue:73', 'Assigned selectedOptions:', this.selectedOptions);\n            uni.__log__('log', 'at pages/preference/preference3.uvue:74', 'selectedOptions length:', this.selectedOptions.length);\n            uni.__log__('log', 'at pages/preference/preference3.uvue:75', 'selectedOptions contents:', UTS.JSON.stringify(this.selectedOptions));\n        }\n        catch (e) {\n            uni.__log__('error', 'at pages/preference/preference3.uvue:77', 'Error parsing selectedOptions in preference3:', e);\n            uni.__log__('log', 'at pages/preference/preference3.uvue:78', 'Raw options data in preference3:', options.options);\n            this.selectedOptions = [];\n        }\n        // 打印最终的数据状态\n        // uni.__log__('log','at pages/preference/preference3.uvue:83','Final data state in preference3:', {\n        //   userId: this.userId,\n        //   username: this.username,\n        //   gender: this.gender,\n        //   birthday: this.birthday,\n        //   selectedOptions: this.selectedOptions\n        // });\n        if (!this.userId || !this.username || !this.gender || !this.birthday || this.selectedOptions.length === 0) {\n            uni.__log__('error', 'at pages/preference/preference3.uvue:92', 'Some required data is missing or invalid in preference3');\n        }\n    },\n    methods: {\n        startTest() {\n            uni.__log__('log', 'at pages/preference/preference3.uvue:97', 'Start test button clicked');\n            this.navigateToNextPage();\n        },\n        navigateToNextPage() {\n            const testPageUrl = `/pages/test/test?userId=${this.userId}&username=${encodeURIComponent(this.username)}&gender=${this.gender}&birthday=${encodeURIComponent(UTS.JSON.stringify(this.birthday))}&options=${encodeURIComponent(UTS.JSON.stringify(this.selectedOptions))}`;\n            uni.__log__('log', 'at pages/preference/preference3.uvue:103', 'Navigating to:', testPageUrl);\n            uni.navigateTo({\n                url: testPageUrl,\n                success: () => {\n                    uni.__log__('log', 'at pages/preference/preference3.uvue:108', 'Navigation to test page successful');\n                },\n                fail: (err) => {\n                    uni.__log__('error', 'at pages/preference/preference3.uvue:111', 'Navigation to test page failed:', err);\n                    uni.showToast({\n                        title: '页面跳转失败',\n                        icon: 'none'\n                    });\n                }\n            });\n        }\n    }\n});\n//# sourceMappingURL=/Users/wengcekai/Downloads/EQMaster_ios/test2/pages/preference/preference3.uvue?vue&type=script&lang.uts.js.map","references":["/Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts"],"uniExtApis":["uni.__log__","uni.navigateTo","uni.showToast"],"map":"{\"version\":3,\"file\":\"preference3.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"preference3.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
